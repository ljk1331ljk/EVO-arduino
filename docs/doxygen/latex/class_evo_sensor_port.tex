\doxysection{Evo\+Sensor\+Port Class Reference}
\hypertarget{class_evo_sensor_port}{}\label{class_evo_sensor_port}\index{EvoSensorPort@{EvoSensorPort}}


{\ttfamily \#include $<$Evo\+Sensor\+Port.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_evo_sensor_port_a6b9ddb9261947e756ad462978fb36d25}\label{class_evo_sensor_port_a6b9ddb9261947e756ad462978fb36d25} 
{\bfseries Evo\+Sensor\+Port} (Sensor\+Port port)
\item 
\mbox{\hyperlink{struct_e_v3_sensor_config}{EV3\+Sensor\+Config}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_evo_sensor_port_aa20fb2324e195a805255ffc92cd661ef}{get\+Current\+Config}} ()
\item 
void \mbox{\hyperlink{class_evo_sensor_port_a0010f35ba4d26be6368caa2c8a9cd13a}{set\+Message\+Handler}} (std\+::function$<$ void(uint8\+\_\+t, uint8\+\_\+t \texorpdfstring{$\ast$}{*}, int length)$>$ on\+Message)
\item 
void \mbox{\hyperlink{class_evo_sensor_port_ab410c4121b10b3bc1e89fc478ee8a3b4}{stop}} ()
\item 
bool \mbox{\hyperlink{class_evo_sensor_port_ae8de3258c1984db69d663d660adf8734}{select\+Sensor\+Mode}} (uint8\+\_\+t mode)
\item 
\mbox{\hyperlink{struct_e_v3_sensor_info}{EV3\+Sensor\+Info}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_evo_sensor_port_aa8e0171eec28c5ca029182084aaec42a}{get\+Info\+For\+Mode}} (uint8\+\_\+t mode)
\item 
float \mbox{\hyperlink{class_evo_sensor_port_a0e21457737c6dd8c8daa1fec63f63ea3}{make\+Float\+From\+Payload}} (uint8\+\_\+t data\mbox{[}$\,$\mbox{]})
\item 
bool \mbox{\hyperlink{class_evo_sensor_port_adbe6c2923d7637c7cda1303813df2463}{begin}} (int retries=9)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_evo_sensor_port_a50b0d917fa93cd1c90bc491f1d706917}\label{class_evo_sensor_port_a50b0d917fa93cd1c90bc491f1d706917} 
bool {\bfseries \+\_\+port\+Initialised} = false
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Sensor port of single EV3 sensor. \begin{DoxySeeAlso}{See also}
\href{https://sourceforge.net/p/lejos/wiki/UART\%20Sensor\%20Protocol/}{\texttt{ https\+://sourceforge.\+net/p/lejos/wiki/\+UART\%20\+Sensor\%20\+Protocol/}} 
\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_evo_sensor_port_adbe6c2923d7637c7cda1303813df2463}\index{EvoSensorPort@{EvoSensorPort}!begin@{begin}}
\index{begin@{begin}!EvoSensorPort@{EvoSensorPort}}
\doxysubsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily \label{class_evo_sensor_port_adbe6c2923d7637c7cda1303813df2463} 
bool Evo\+Sensor\+Port\+::begin (\begin{DoxyParamCaption}\item[{int}]{retries}{ = {\ttfamily 9}}\end{DoxyParamCaption})}

Starts the EV3 sensor communication protocol. First reads the sensor configuration and calls the on\+Success callback afterwards. Then keeps the connection online by sending the sensor NACK regularly. The method performs all commuincation in its own Free\+RTOS task, there it returns immediately. \Hypertarget{class_evo_sensor_port_aa20fb2324e195a805255ffc92cd661ef}\index{EvoSensorPort@{EvoSensorPort}!getCurrentConfig@{getCurrentConfig}}
\index{getCurrentConfig@{getCurrentConfig}!EvoSensorPort@{EvoSensorPort}}
\doxysubsubsection{\texorpdfstring{getCurrentConfig()}{getCurrentConfig()}}
{\footnotesize\ttfamily \label{class_evo_sensor_port_aa20fb2324e195a805255ffc92cd661ef} 
\mbox{\hyperlink{struct_e_v3_sensor_config}{EV3\+Sensor\+Config}} \texorpdfstring{$\ast$}{*} Evo\+Sensor\+Port\+::get\+Current\+Config (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Returns the sensor configuration found during the first phase of the EV3 protocol. \Hypertarget{class_evo_sensor_port_aa8e0171eec28c5ca029182084aaec42a}\index{EvoSensorPort@{EvoSensorPort}!getInfoForMode@{getInfoForMode}}
\index{getInfoForMode@{getInfoForMode}!EvoSensorPort@{EvoSensorPort}}
\doxysubsubsection{\texorpdfstring{getInfoForMode()}{getInfoForMode()}}
{\footnotesize\ttfamily \label{class_evo_sensor_port_aa8e0171eec28c5ca029182084aaec42a} 
\mbox{\hyperlink{struct_e_v3_sensor_info}{EV3\+Sensor\+Info}} \texorpdfstring{$\ast$}{*} Evo\+Sensor\+Port\+::get\+Info\+For\+Mode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{mode}{}\end{DoxyParamCaption})}

Utility method to get get \doxylink{struct_e_v3_sensor_info}{EV3\+Sensor\+Info} for a mode \Hypertarget{class_evo_sensor_port_a0e21457737c6dd8c8daa1fec63f63ea3}\index{EvoSensorPort@{EvoSensorPort}!makeFloatFromPayload@{makeFloatFromPayload}}
\index{makeFloatFromPayload@{makeFloatFromPayload}!EvoSensorPort@{EvoSensorPort}}
\doxysubsubsection{\texorpdfstring{makeFloatFromPayload()}{makeFloatFromPayload()}}
{\footnotesize\ttfamily \label{class_evo_sensor_port_a0e21457737c6dd8c8daa1fec63f63ea3} 
float Evo\+Sensor\+Port\+::make\+Float\+From\+Payload (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{data}{\mbox{[}$\,$\mbox{]}}\end{DoxyParamCaption})}

Makes a float from a sensor payload \Hypertarget{class_evo_sensor_port_ae8de3258c1984db69d663d660adf8734}\index{EvoSensorPort@{EvoSensorPort}!selectSensorMode@{selectSensorMode}}
\index{selectSensorMode@{selectSensorMode}!EvoSensorPort@{EvoSensorPort}}
\doxysubsubsection{\texorpdfstring{selectSensorMode()}{selectSensorMode()}}
{\footnotesize\ttfamily \label{class_evo_sensor_port_ae8de3258c1984db69d663d660adf8734} 
bool Evo\+Sensor\+Port\+::select\+Sensor\+Mode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{mode}{}\end{DoxyParamCaption})}

Selects the working mode of the sensor \Hypertarget{class_evo_sensor_port_a0010f35ba4d26be6368caa2c8a9cd13a}\index{EvoSensorPort@{EvoSensorPort}!setMessageHandler@{setMessageHandler}}
\index{setMessageHandler@{setMessageHandler}!EvoSensorPort@{EvoSensorPort}}
\doxysubsubsection{\texorpdfstring{setMessageHandler()}{setMessageHandler()}}
{\footnotesize\ttfamily \label{class_evo_sensor_port_a0010f35ba4d26be6368caa2c8a9cd13a} 
void Evo\+Sensor\+Port\+::set\+Message\+Handler (\begin{DoxyParamCaption}\item[{std\+::function$<$ void(uint8\+\_\+t, uint8\+\_\+t \texorpdfstring{$\ast$}{*}, int length)$>$}]{on\+Message}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Sets the message handler \Hypertarget{class_evo_sensor_port_ab410c4121b10b3bc1e89fc478ee8a3b4}\index{EvoSensorPort@{EvoSensorPort}!stop@{stop}}
\index{stop@{stop}!EvoSensorPort@{EvoSensorPort}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \label{class_evo_sensor_port_ab410c4121b10b3bc1e89fc478ee8a3b4} 
void Evo\+Sensor\+Port\+::stop (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Stops the EV3 Sensor communication and the corresponding task. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/helper/Evo\+Sensor\+Port.\+h\item 
src/helper/Evo\+Sensor\+Port.\+cpp\end{DoxyCompactItemize}
